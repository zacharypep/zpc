#pragma once

#include <stddef.h>
#include <stdint.h>

#ifdef __cplusplus
#define EXTERN_C extern "C"
#else
#define EXTERN_C extern
#endif

// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
typedef struct arena_zt* arena_zh;

typedef struct span_zt
{
    uint8_t* data;
    size_t size;
} span_zt;
typedef const struct span_zt* span_zh;

// =========================================================================================================================================
// =========================================================================================================================================
// fatal on fail, returned pointers are guaranteed to be valid
// =========================================================================================================================================
// =========================================================================================================================================
EXTERN_C arena_zh arena_init_z(size_t capacity);
EXTERN_C void arena_destroy_z(arena_zh arena);
EXTERN_C span_zh arena_alloc_z(arena_zh arena, size_t size);
EXTERN_C void arena_reset_z(arena_zh arena);
EXTERN_C char* arena_strdup_z(arena_zh arena, const char* str);
