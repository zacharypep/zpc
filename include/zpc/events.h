#pragma once

#include <stddef.h>
#include <stdint.h>

#ifdef __cplusplus
#define EXTERN_C extern "C"
#else
#define EXTERN_C extern
#endif

// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
typedef struct event_zt* event_zh;
typedef uint64_t event_sub_id_zt;

typedef void (*event_callback_t)(const void* event_data, void* user_data);

// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
EXTERN_C event_zh event_init_z(void);
EXTERN_C void event_destroy_z(event_zh event);
EXTERN_C event_sub_id_zt event_subscribe_z(event_zh event, event_callback_t callback, void* user_data);
EXTERN_C void event_unsubscribe_z(event_zh event, event_sub_id_zt subscription_id);
EXTERN_C void event_trigger_z(event_zh event, const void* event_data);
