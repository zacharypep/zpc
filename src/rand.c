#include "zpc/rand.h"

#include "zpc/fatal.h"

#include <sys/random.h>

// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
// =========================================================================================================================================
uint64_t rand_u64_z(void)
{
    uint64_t value;
    ssize_t result = getrandom(&value, sizeof(value), 0);
    fatal_check_bool_z(result == sizeof(value), "getrandom failed");
    return value;
}
